"use strict";(self.webpackChunkmovie_search=self.webpackChunkmovie_search||[]).push([[537],{682:function(e,t,r){r.d(t,{r:function(){return o}});var n=r(791),a=["title","titleId"];function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function c(e,t){var r=e.title,c=e.titleId,o=s(e,a);return n.createElement("svg",i({height:"800px",width:"800px",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 47.94 47.94",xmlSpace:"preserve",ref:t,"aria-labelledby":c},o),r?n.createElement("title",{id:c},r):null,n.createElement("path",{style:{fill:"#ED8A19"},d:"M26.285,2.486l5.407,10.956c0.376,0.762,1.103,1.29,1.944,1.412l12.091,1.757 c2.118,0.308,2.963,2.91,1.431,4.403l-8.749,8.528c-0.608,0.593-0.886,1.448-0.742,2.285l2.065,12.042 c0.362,2.109-1.852,3.717-3.746,2.722l-10.814-5.685c-0.752-0.395-1.651-0.395-2.403,0l-10.814,5.685 c-1.894,0.996-4.108-0.613-3.746-2.722l2.065-12.042c0.144-0.837-0.134-1.692-0.742-2.285l-8.749-8.528 c-1.532-1.494-0.687-4.096,1.431-4.403l12.091-1.757c0.841-0.122,1.568-0.65,1.944-1.412l5.407-10.956 C22.602,0.567,25.338,0.567,26.285,2.486z"}))}var o=n.forwardRef(c);r.p},537:function(e,t,r){r.r(t),r.d(t,{default:function(){return w}});var n=r(433),a=r(861),i=r(439),s=r(757),c=r.n(s),o=r(791),l="MoviesPage_container__OL7VG",u="MoviesPage_searchForm__-RLqE",p="MoviesPage_searchBtn__ZR5Re",f="MoviesPage_moreBtn__vBK8+",m="MoviesPage_listFilms__-XsER",v="MoviesPage_film__cYAX+",g=r(243),h=r(87),d=r(689),_=(r(691),{listContainer:"MovieLi_listContainer__6g8Fu",star:"MovieLi_star__pYcDq",starContainer:"MovieLi_starContainer__HEDJ1",imageHomepage:"MovieLi_imageHomepage__qRLPA"}),x=r(682),b=r(184),y=function(e){var t=e.image,r=e.title,n=e.rating;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("img",{src:t,alt:r,className:_.imageHomepage}),(0,b.jsxs)("span",{className:_.listContainer,children:[(0,b.jsx)("span",{className:_.title,children:r}),(0,b.jsxs)("span",{className:_.starContainer,children:[(0,b.jsx)(x.r,{className:_.star}),(0,b.jsx)("span",{className:_.container,children:n.toFixed(1)})]})]})]})},j=r(3),w=function(){var e=(0,o.useState)([]),t=(0,i.Z)(e,2),r=t[0],s=t[1],_=(0,o.useState)(1),x=(0,i.Z)(_,2),w=x[0],M=x[1],N=(0,o.useState)("idle"),O=(0,i.Z)(N,2),k=O[0],C=O[1],P=(0,o.useState)(!1),S=(0,i.Z)(P,2),Z=S[0],E=S[1],L=(0,h.lr)(),q=(0,i.Z)(L,2),F=q[0],R=q[1],H=(0,d.TH)(),B=F.get("query")||"";(0,o.useEffect)((function(){function e(){return(e=(0,a.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.Z.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(j.$,"&query=").concat(B,"&language=en-US&page=1&include_adult=false&page=").concat(w)).then((function(e){var t=e.data,r=t.page,a=t.results,i=t.total_pages;s((0,n.Z)(a)),M(r),i>r&&E(!0),C("resolved")})).catch((function(e){console.log(e),C("error")}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}B&&function(){e.apply(this,arguments)}()}),[B,w]);var D=(0,n.Z)(r).sort((function(e,t){return t.vote_average-e.vote_average})).map((function(e){var t=e.backdrop_path,r=e.original_title,n=e.vote_average,a=e.id,i="http://image.tmdb.org/t/p/w300/".concat(t);return(0,b.jsx)(h.rU,{className:v,to:"".concat(a),state:{from:H},children:(0,b.jsx)(y,{image:i,title:r,rating:n})},a)}));return(0,b.jsxs)("div",{className:l,children:[(0,b.jsx)("h2",{children:"Find movie"}),(0,b.jsxs)("form",{className:u,onSubmit:function(e){e.preventDefault();var t=e.currentTarget.elements.search.value;R(t?{query:t}:{})},children:[(0,b.jsx)("input",{type:"text",defaultValue:B,name:"search"}),(0,b.jsx)("button",{type:"submit",className:p,children:"Search"})]}),"resolved"===k&&(0,b.jsx)("ul",{className:m,children:D}),"error"===k&&(0,b.jsx)("p",{children:"There is no movies for your query, try another one"}),Z&&(0,b.jsx)("button",{type:"button",className:f,onClick:function(){M((function(e){return e+1}))},children:"Load More"})]})}},3:function(e,t,r){r.d(t,{$:function(){return n}});var n="2b6f5b76cc1ed189784d28b4ff513eb4"}}]);
//# sourceMappingURL=537.6eaa4788.chunk.js.map